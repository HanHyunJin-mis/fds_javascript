<!DOCTYPE html>
<html>

<head>
  <title>Fetch example</title>
</head>

<body>
  <pre class="result"></pre>
  <script>
    const $result = document.querySelector('.result');
    const render = todos => {
      $result.innerHTML = JSON.stringify(todos, null, 2);
    };

    function testFetch(method, uri, payload) {
      return fetch(uri, {
        method,
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(payload)
      });
    }

    // GET all
    // testFetch('GET', 'http://localhost:9000/todos')
    //   .then(res => res.json())
    //   .then(render)
    //   .catch(console.error);

    // GET id : 3
    // testFetch('GET', 'http://localhost:9000/todos/3')
    //   .then(res => res.json())
    //   .then(render)
    //   .catch(console.error);

    // POST
    // testFetch('POST', 'http://localhost:9000/todos', {
    //   id: 4,
    //   content: 'fetch',
    //   completed: true
    // }).then(res => res.json())
    //   .then(render)
    //   .catch(console.error);

    // PATCH
    // testFetch('PATCH', 'http://localhost:9000/todos', {
    //   completed: false
    // })
    //   .then(res => res.json())
    //   .then(render)
    //   .catch(console.error);

    // DELETE
    // testFetch('DELETE', 'http://localhost:9000/todos/4').then(res => res.json())
    //   .then(render)
    //   .catch(console.error);
  </script>
</body>

</html>